//Pino do sensor de luminosidade
#define sensor A5

//Pino do potenciometro para mudar as cores
#define muda_cor A4

//Pinos dos LEDs RGBs 
#define azul 2
#define vermelho 3
#define verde 4

void setup()
{
 
  //Definição dos pinos
  pinMode(muda_cor, INPUT);
  pinMode(sensor, INPUT);
  pinMode(vermelho, OUTPUT);
  pinMode(azul, OUTPUT);
  pinMode(verde, OUTPUT);
  
}

void loop() {
 
  //Ler os valores do potenciometro
  float valorP = analogRead(muda_cor);
  float luz = analogRead(sensor);
  
  if(luz > 800) {   
    
    //Chama o void para decidir qual cor acenderá
    muda_cores(valorP);
    
  }else {
    
    //Desliga a iluminação
    digitalWrite(vermelho, LOW);
    digitalWrite(azul, LOW);
    digitalWrite(verde, LOW);
    
  }
  
}

void muda_cores(float valor) {
  
  //Mapear os valores do potenciometro de 0 a 100
  int cores = map(valor, 0, 1024, 0, 100);

  //Definir cor amarela
  if(cores > 33 && cores < 66) {
    
    digitalWrite(verde, HIGH);
    digitalWrite(vermelho, HIGH);
    digitalWrite(azul, LOW);
    
   }
  
  //Definir cor azul
  else if(cores > 33) {
    
    digitalWrite(azul, HIGH);
    digitalWrite(vermelho, LOW);
    digitalWrite(verde, LOW);
    
  }
  
  //Definir cor vermelha
  else {
    
    digitalWrite(vermelho, HIGH);
    digitalWrite(azul, LOW);
    digitalWrite(verde, LOW);
    
  }
  
}
